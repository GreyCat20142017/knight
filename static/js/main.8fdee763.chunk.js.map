{"version":3,"sources":["actions/index.js","constants.js","functions.js","reducers/index.js","sprite.jsx","components/Cell.jsx","components/Board.jsx","containers/BoardContainer.js","components/Info.jsx","containers/InfoContainer.js","components/Modal.jsx","containers/ModalContainer.js","components/Records.jsx","containers/RecordsContainer.js","components/Header.jsx","containers/HeaderContainer.js","App.js","serviceWorker.js","index.js"],"names":["onCellClick","id","type","onStart","onModalShow","CONTENT","EMPTY","clickable","svg","title","DISABLED","HORSE","LITTER","STAR","POSSIBILITY","x","y","MAP_ID_COORDS","sideLength","arr","i","j","getMapIdCoords","KEY_CODES","ESC","TAB","MODAL_TYPES","shuffleArray","entities","sortableEntities","slice","length","Math","floor","random","temporaryValue","getRandomFromRange","min","max","getInitialState","content","indexArr","push","board","cells","horse","info","score","life","gameOver","modal","isModalOpen","modalType","records","randomNames","name","result","sort","a","b","getRecordsTable","undoState","getCoordXYByID","getSquaresWithHorse","minLimit","squares","sub","size","Array","getSubmatrix","submatrix","k","l","coords","width","height","getAnalizeResult","stateArr","newState","Object","toConsumableArray","needIncreaseScore","horseCoords","tmpArr","map","item","maxRectangle","resetItems","forEach","rectangle","additionToScore","onEmptyStarCellMap","actionId","ind","onLitterCellMap","onLifeLossCellMap","commonMoveReducer","state","arguments","undefined","action","specific","_state$board","_state$info","tmpHorse","emptyCells","filter","tmpArray","cellsMap","isGameOver","loss","idCurrent","currentCoord","some","coord","itemCoord","getMovePossibility","reducer","_state$board2","idNext","isValid","nextCoord","getMoveValidity","clickedContent","assign","sprite","wh","react_default","createElement","xmlns","viewBox","d","fill","Cell","handleClick","evt","cell","target","hasAttribute","getAttribute","_this","props","_this$props","this","disabled","className","tabIndex","onClick","Component","Board","_props$board","components_Cell","key","BoardContainer","connect","dispatch","Info","_props$info","react","InfoContainer","Modal","onKeyDown","keyCode","refs","first","shiftKey","preventDefault","last","focus","onModalCancel","onSigleButtonTabKeyDown","onLeaveButtons","currentTarget","root","document","body","appendChild","prevProps","prevState","removeChild","_this$props$modal","ReactDOM","createPortal","onDisabledClick","ref","React","ModalContainer","Records","table","RecordsContainer","Header","onUndo","onAboutShow","HeaderContainer","App","containers_HeaderContainer","containers_BoardContainer","containers_InfoContainer","containers_RecordsContainer","containers_ModalContainer","Boolean","window","location","hostname","match","store","createStore","render","es","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8fdee763.chunk.js","sourcesContent":["export const CLICK_CELL = 'CLICK_CELL';\r\nexport const START = 'START';\r\n\r\nexport const CLICK_DISABLED_CELL = 'CLICK_DISABLED_CELL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\r\nexport const SHOW_MODAL = 'SHOW_MODAL';\r\n\r\nexport const UNDO = 'UNDO';\r\nexport const SHOW_ABOUT = 'SHOW_ABOUT';\r\n\r\nexport const onCellClick = (id) => {\r\n    return {\r\n        type: CLICK_CELL,\r\n        id: id\r\n    };\r\n}\r\n\r\nexport const onStart = () => {\r\n    return {\r\n        type: START\r\n    };\r\n}\r\n\r\nexport const onUndo = () => {\r\n    return {\r\n        type: UNDO\r\n    };\r\n}\r\n\r\nexport const onDisabledClick = (id) => {\r\n    return {\r\n        type: CLICK_DISABLED_CELL,\r\n        id: id\r\n    };\r\n}\r\n\r\nexport const onModalCancel = () => {\r\n    return {\r\n        type: CLOSE_MODAL\r\n    };\r\n}\r\n\r\nexport const onModalShow = (id) => {\r\n    return {\r\n        type: SHOW_MODAL,\r\n        id: id\r\n    };\r\n}\r\n\r\nexport const onAboutShow = () => {\r\n    return {\r\n        type: SHOW_ABOUT\r\n    };\r\n}\r\n","const getMapIdCoords = (sideLength) => {\r\n\tlet arr = [];\r\n\tfor (let i = 0; i < sideLength; i++) {\r\n\t\tfor (let j = 0; j < sideLength; j++) {\r\n\t\t arr[j * sideLength + i] = {x: i + 1, y: j + 1};\r\n\t\t}\r\n\t};\r\n\treturn arr;\r\n};\r\n\r\nexport const BOARD_SIDE = 8;\r\nexport const MIN_RECTANGLE_LIMIT = 3;\r\nexport const LIFE_COUNTER_BORDER = 25;\r\nexport const RECORDS_TABLE_LIMIT = 3;\r\n\r\nexport const CONTENT = {\r\n  EMPTY: {clickable: true, svg: 'none', title: 'свободно'},\r\n  DISABLED: {clickable: false, svg: 'none', title: 'занято'},\r\n  HORSE: {clickable: false, svg: 'horse', title: 'конь'},\r\n  LITTER: {clickable: true, svg: 'litter', title: 'клетка будет заблокирована в начале следующего хода'},\r\n  STAR: {clickable: true, svg: 'star', title: '+ 1 очко'}\r\n};\r\n\r\nexport const POSSIBILITY = [{x: -1, y: -2}, {x: -2, y: -1}, {x: -2, y: 1}, {x: 1, y: -2}, {x: -1, y: 2}, {x: 2, y: -1}, {x: 1, y: 2}, {x: 2, y: 1}];\r\n\r\nexport const MAP_ID_COORDS = getMapIdCoords(BOARD_SIDE);\r\n\r\nexport const KEY_CODES = {ESC: 27, TAB: 9};\r\n\r\nexport const MODAL_TYPES = {about: 'about', life: 'life', nothing: 'nothing'}\r\n","import {\r\n  MAP_ID_COORDS,\r\n  POSSIBILITY,\r\n  BOARD_SIDE,\r\n  MIN_RECTANGLE_LIMIT,\r\n  CONTENT,\r\n  RECORDS_TABLE_LIMIT,\r\n  LIFE_COUNTER_BORDER,\r\n  MODAL_TYPES } from './constants'\r\n\r\nexport const shuffleArray = function (entities) {\r\n  const sortableEntities = entities.slice();\r\n  for (let i = sortableEntities.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1));\r\n    let temporaryValue = sortableEntities[i];\r\n    sortableEntities[i] = sortableEntities[j];\r\n    sortableEntities[j] = temporaryValue;\r\n  }\r\n  return sortableEntities;\r\n};\r\n\r\nconst getRandomFromRange =  (min, max) => {\r\n  return Math.floor(min + Math.random() * (max + 1 - min));\r\n};\r\n\r\nexport const getRandomFromArray =  (arr) => {\r\n  return arr[getRandomFromRange(1, arr.length) - 1];\r\n};\r\n\r\nconst getRecordsTable = () => {\r\n  let records = [];\r\n  let randomNames = shuffleArray(['Пупкин', 'Ляпкин', 'Тяпкин', 'Иванов', 'Петров', 'Сидоров']);\r\n  for (let i = 1; i <= RECORDS_TABLE_LIMIT; i++) {\r\n    records.push({\r\n      name: randomNames[i],\r\n      result: getRandomFromRange (1,  LIFE_COUNTER_BORDER)});\r\n  }\r\n  return records.sort((a, b) => b.result - a.result);\r\n}\r\n\r\nexport const getInitialState = (sideLength, content) => {\r\n  let arr = [];\r\n  let indexArr = [];\r\n  for (let i = 0; i < sideLength * sideLength; i++) {\r\n      arr.push({id: i, content: content.EMPTY});\r\n      indexArr.push(i);\r\n  };\r\n\r\n  indexArr = shuffleArray(indexArr);\r\n\r\n  if (indexArr.length >= 3) {\r\n    arr[indexArr[0]].content = content.HORSE;\r\n    arr[indexArr[1]].content = content.STAR;\r\n    arr[indexArr[2]].content = content.LITTER;\r\n  }\r\n\r\n  return {\r\n    board: {cells: arr, horse: indexArr[0]},\r\n    info: {score: 0, life: 1, gameOver: false},\r\n    modal: {isModalOpen: false, modalType: MODAL_TYPES.nothing},\r\n    records: getRecordsTable(),\r\n    undoState: null\r\n  };\r\n};\r\n\r\nexport const getMoveValidity = (idCurrent, idNext) => {\r\n  let isValid = false;\r\n  let currentCoord = MAP_ID_COORDS[idCurrent];\r\n  let nextCoord = MAP_ID_COORDS[idNext];\r\n  POSSIBILITY.forEach(item => {\r\n    if ((currentCoord.x + item.x === nextCoord.x) && (currentCoord.y + item.y === nextCoord.y)) {\r\n      isValid = true;\r\n    }\r\n  });\r\n  return isValid;\r\n};\r\n\r\nconst getIndexByCoord = (coord, sideLength) => ((coord.x - 1) * (sideLength) + (coord.y - 1));\r\n\r\nexport const getMovePossibility = (idCurrent, cells) => {\r\n  let currentCoord = getCoordXYByID(idCurrent, BOARD_SIDE);\r\n  let isMovePossible =  POSSIBILITY.some(item => {\r\n    let itemCoord = {x: currentCoord.x + item.x, y: currentCoord.y + item.y};\r\n    return (\r\n      (itemCoord.x >= 1) &&  (itemCoord.x <= BOARD_SIDE) &&\r\n      (itemCoord.y >= 1) && (itemCoord.y <= BOARD_SIDE)  &&\r\n      (cells[getIndexByCoord(itemCoord, BOARD_SIDE)].content !== CONTENT.DISABLED)\r\n      )\r\n  });\r\n  return isMovePossible;\r\n};\r\n\r\nexport const getCoordByID = (id, sideLength) => {\r\n  return {i: Math.floor(id / sideLength), j: id % sideLength};\r\n};\r\n\r\nexport const getCoordXYByID = (id, sideLength) => {\r\n  return {x: Math.floor(id / sideLength) + 1, y: id % sideLength + 1};\r\n};\r\n\r\nconst getSubmatrix = (size) => {\r\n  let sub = new Array(size);\r\n  for (let i = 0; i < size; i++) {\r\n    sub[i] = new Array(size);\r\n    for (let j = 0; j < size; j++) {\r\n      sub[i][j] = 1;\r\n    }\r\n  };\r\n  return sub;\r\n}\r\n\r\nconst getSquaresWithHorse  = (arr, minLimit, horse) => {\r\n  let squares = [];\r\n  let sub = getSubmatrix(minLimit);\r\n\r\n  for (let i = 0; i < arr.length - sub.length + 1; i++) {\r\n    for (let j = 0; j < arr[0].length - sub[0].length + 1; j++) {\r\n      let submatrix = true;\r\n      for (let k = 0; k < sub.length; ++k) {\r\n        for (let l = 0; l < sub[0].length; ++l) {\r\n          if (arr[i + k][j + l] === sub[k][l]) {\r\n          } else {\r\n            submatrix = false;\r\n          }\r\n        }\r\n      }\r\n      if (submatrix && ((horse.i >= i && horse.i < i + minLimit) && (horse.j >= j && horse.j < j + minLimit))) {\r\n        squares.push( {coords: {i:i, j: j}, size: {width: minLimit, height: minLimit}});\r\n      }\r\n    }\r\n  }\r\n  return squares;\r\n};\r\n\r\nexport const getAnalizeResult = (stateArr, horse) => {\r\n  let newState = [...stateArr];\r\n  let needIncreaseScore = false;\r\n  let horseCoords = getCoordByID(horse, BOARD_SIDE);\r\n  let tmpArr = stateArr.map(item => (item.content === CONTENT.DISABLED || item.content === CONTENT.HORSE) ? 1 : 0);\r\n  let arr = new Array(BOARD_SIDE);\r\n  for (let i = 0; i < BOARD_SIDE; i++) {\r\n    arr[i] = new Array(BOARD_SIDE);\r\n    for (let j = 0; j < BOARD_SIDE; j++) {\r\n      arr[i][j] = tmpArr[i * BOARD_SIDE + j];\r\n    }\r\n  };\r\n let maxRectangle = getSquaresWithHorse(arr, MIN_RECTANGLE_LIMIT, horseCoords);\r\n let resetItems = [];\r\n if (maxRectangle.length > 0) {\r\n      maxRectangle.forEach(rectangle => {\r\n      for (let i = 0; i < rectangle.size.height; i++) {\r\n        for (let j = 0; j < rectangle.size.width; j++) {\r\n        resetItems.push(rectangle.coords.i * BOARD_SIDE + i * BOARD_SIDE + rectangle.coords.j + j);\r\n      }\r\n    };\r\n    for (let k = 0; k < resetItems.length; k++) {\r\n      if (newState[resetItems[k]].content !== CONTENT.HORSE) {\r\n        newState[resetItems[k]].content = CONTENT.EMPTY;\r\n      }\r\n    };\r\n    });\r\n    needIncreaseScore = true;\r\n }\r\n return {cells: newState, additionToScore: (needIncreaseScore ? 1 : 0)};\r\n};\r\n","import { CLICK_CELL, START, CLICK_DISABLED_CELL, CLOSE_MODAL, SHOW_MODAL, SHOW_ABOUT, UNDO } from '../actions';\r\n\r\nimport { getMoveValidity, shuffleArray, getInitialState, getAnalizeResult, getMovePossibility} from '../functions'\r\nimport { BOARD_SIDE, CONTENT, LIFE_COUNTER_BORDER, MODAL_TYPES } from '../constants'\r\n\r\nconst onEmptyStarCellMap = (cells, actionId) => {\r\n return cells.map((item, ind) => {\r\n  if (ind === actionId) {\r\n    item.content = CONTENT.HORSE;\r\n  }\r\n  if ((item.content === CONTENT.HORSE) && (ind !== actionId)) {\r\n    item.content = CONTENT.DISABLED;\r\n  }\r\n\r\n  if (item.content === CONTENT.LITTER)  {\r\n    item.content = CONTENT.DISABLED;\r\n  }\r\n  return item;\r\n});\r\n};\r\n\r\nconst onLitterCellMap = (cells, actionId) => {\r\n return cells.map((item, ind) => {\r\n  if (ind === actionId) {\r\n    item.content = CONTENT.HORSE;\r\n  }\r\n  if (item.content === CONTENT.HORSE && ind !== actionId) {\r\n    item.content = CONTENT.DISABLED;\r\n  }\r\n  return item;\r\n});\r\n};\r\n\r\nconst onLifeLossCellMap = (cells, actionId) => {\r\n  return cells.map((item, ind) => {\r\n  if ((item.content === CONTENT.HORSE) && (ind !== actionId)) {\r\n    item.content = CONTENT.DISABLED;\r\n  }\r\n  if ((item.content === CONTENT.LITTER)) {\r\n    item.content = CONTENT.DISABLED;\r\n  }\r\n  if (ind === actionId) {\r\n    item.content = CONTENT.HORSE;\r\n  }\r\n  return item;\r\n});\r\n};\r\n\r\nconst commonMoveReducer = (state = {}, action, specific) => {\r\n  let {cells, horse} = state.board;\r\n  let {score, life} = state.info;\r\n  let actionId = (specific.content === CONTENT.DISABLED) ? (state.modal.tmpHorse || horse) : action.id;\r\n\r\n  score = (specific.content === CONTENT.STAR) ? score + 1 : score;\r\n\r\n  switch (action.type) {\r\n    case CLICK_CELL:\r\n    case CLICK_DISABLED_CELL:\r\n      const emptyCells = shuffleArray(cells.filter(item => ( item.content === CONTENT.EMPTY) && (item.id !== actionId)  ));\r\n      let tmpArray  = specific.cellsMap(cells, actionId);\r\n      if (emptyCells.length > 0) {\r\n          tmpArray[emptyCells[0].id].content = CONTENT.LITTER;\r\n      }\r\n      if (emptyCells.length > 1 && specific.content === CONTENT.STAR) {\r\n          tmpArray[emptyCells[1].id].content = CONTENT.STAR;\r\n      }\r\n      let result = getAnalizeResult(tmpArray, actionId);\r\n      score = score + result.additionToScore;\r\n      life = ((result.additionToScore) && (score % LIFE_COUNTER_BORDER === 0) ? (life + 1) : life) - specific.loss;\r\n      let isGameOver = !((life > 0) || getMovePossibility(actionId, result.cells));\r\n      return {\r\n        board: {horse: actionId, cells: result.cells},\r\n        info: {score: score, life: life, gameOver: isGameOver},\r\n        modal: {isModalOpen: false, modalType: MODAL_TYPES.nothing}\r\n      };\r\n    default:  return state;\r\n  }\r\n};\r\n\r\nconst reducer = (state = {}, action) => {\r\n\tlet {horse, cells} = state.board;\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CLICK_CELL:\r\n\r\n\t\t\tif (getMoveValidity(horse, action.id)) {\r\n        let clickedContent = cells[action.id].content;\r\n\t\t\t\tswitch (clickedContent) {\r\n\t\t\t\t\tcase CONTENT.STAR: {\r\n\t\t\t\t\t\treturn Object.assign({}, state, commonMoveReducer(state, action, {cellsMap: onEmptyStarCellMap, content: clickedContent, loss: 0}));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase CONTENT.LITTER: {\r\n\t\t\t\t\t\treturn Object.assign({}, state,  commonMoveReducer(state, action, {cellsMap: onLitterCellMap, content: clickedContent, loss: 0}));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase CONTENT.DISABLED: {\r\n\t\t\t\t\t\treturn state;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcase CONTENT.EMPTY: {\r\n\t\t\t\t\t\treturn Object.assign({}, state,  commonMoveReducer(state, action, {cellsMap: onEmptyStarCellMap, content: clickedContent, loss: 0}));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n            return state;\r\n          }\r\n\t\t\t\t}\r\n\t\t  }\r\n     return state;\r\n\r\n\r\n\t\tcase START: return getInitialState(BOARD_SIDE, CONTENT);\r\n\r\n    case CLOSE_MODAL: return Object.assign({}, state, { modal: {isModalOpen: false, modalType: MODAL_TYPES.nothing}});\r\n\r\n    case SHOW_MODAL: return (state.info.life > 0 )\r\n      ? Object.assign({}, state, {\r\n       modal: {isModalOpen: true, modalType: MODAL_TYPES.life, tmpHorse: action.id}})\r\n      : state;\r\n\r\n    case CLICK_DISABLED_CELL: return (state.info.life > 0 ) ?\r\n      Object.assign({}, state,  commonMoveReducer(state, action, {cellsMap: onLifeLossCellMap, content: CONTENT.DISABLED, loss: 1})) :\r\n      state;\r\n\r\n    case UNDO: return state;\r\n\r\n\r\n    case SHOW_ABOUT: return Object.assign({}, state, { modal: {isModalOpen: true, modalType: MODAL_TYPES.about}});\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default reducer;\r\n","import React from 'react';\r\n\r\nexport const sprite = (name, wh = 20) => {\r\nswitch (name) {\r\ncase 'horse': return (\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 205.482 205.482\" width={wh} height={wh}>\r\n\t<path d=\"M188.03,113.487c-21.775,11.727-23.851-9.635-23.851-9.635c-18.021-2.093-31.403-22.201-31.403-22.201   c-24.312,12.558-10.752,47.996-0.284,61.603c1.396,1.809,2.494,3.747,3.417,5.745h17.354v25.215h24.045v31.269H11.865v-31.269   h24.048v-25.215h17.067c-20.803-26.351-15.392-51.211-9.422-67.664C50.767,61.52,60.511,50.644,74.718,39.07   c21.122-17.221,60.145-19.375,60.145-19.375c0.255-1.463,1.448-3.177,2.974-4.926c-4.688,0.127-10.427,0.52-16.964,1.362   c-4.469,0.872-9.387,1.356-14.378,2.816c-5.104,1.105-10.285,2.878-15.581,4.912c-5.29,1.974-10.489,4.775-15.628,7.692   c-4.876,3.402-10.06,6.537-14.156,11.018c-4.702,3.83-8.127,8.819-11.645,13.586c-3.673,4.682-5.479,10.4-8.228,15.321   c-2.039,5.249-3.177,10.666-4.714,15.617c-1.392,4.994-1.368,9.992-2.069,14.49c-0.594,4.492-1.049,8.629-0.704,12.317   c0.116,3.688,0.195,6.928,0.278,9.563c0.156,5.297,0.254,8.335,0.254,8.335l-0.733,0.07c0,0-0.629-2.967-1.457-8.311   c-0.393-2.671-0.877-5.923-1.41-9.682c-0.807-3.735-0.831-8.015-0.479-12.726c0.266-3.369,0.313-7.037,0.629-10.796l-8.801-0.189   l9.014-11.032l-9.46-1.369L35.122,67.41l-9.916-3.154l13.976-7.669L28.59,53.434l18.256-5.872l-12.62-3.606L54.73,38.32   l-11.275-5.181l20.729-2.707L54.048,24.58l25.307-2.651c0.112-0.059,0.239-0.127,0.354-0.163l-11.691-5.296l26.596-2.258L82.44,7.9   l50.312,4.007c2.72,0.106,5.096,0.319,7.259,0.556C146.478,6.271,156.632,0,156.632,0c-2.08,2.084-2.932,13.409-2.932,13.409   c2.099-3.771,8.795-7.542,8.795-7.542c-3.759,8.781,0,27.624,0,27.624c10.899,10.899,23.046,48.578,23.046,48.578l4.623,6.694   C196.01,97.173,193.852,110.354,188.03,113.487z\" fill=\"#FFDA44\"/></svg>)\r\ncase 'litter': return (<svg xmlns=\"http://www.w3.org/2000/svg\" width={wh} height={wh}  viewBox=\"0 0 8 8\" fill=\"rgba(0, 0, 0, 0.3)\">\r\n \t<path d=\"M7.44.03c-.03 0-.04.02-.06.03l-3.75 2.66c-.04.03-.1.11-.13.16l-.13.25c.72.23 1.27.78 1.5 1.5l.25-.13c.05-.03.12-.08.16-.13l2.66-3.75c.03-.05.04-.09 0-.13l-.44-.44c-.02-.02-.04-.03-.06-.03zm-4.78 3.97c-.74 0-1.31.61-1.31 1.34 0 .99-.55 1.85-1.34 2.31.39.22.86.34 1.34.34 1.47 0 2.66-1.18 2.66-2.66 0-.74-.61-1.34-1.34-1.34z\"/></svg>)\r\ncase 'star': return (\r\n<svg xmlns=\"http://www.w3.org/2000/svg\"  fill=\"rgba(255, 218, 68, 0.3)\" viewBox=\"0 0 8 8\"  width={wh} height={wh}><path d=\"M4 0l-1 3h-3l2.5 2-1 3 2.5-2 2.5 2-1-3 2.5-2h-3l-1-3z\" /></svg>)\r\ncase 'undo': return (\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"rgba(255, 218, 68, 1)\" viewBox=\"0 0 24 24\" width={wh} height={wh}><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/></svg>)\r\ncase 'help': return (\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"rgba(255, 218, 68, 1)\" viewBox=\"0 0 24 24\" width={wh} height={wh}><path fill=\"none\" d=\"M0 0h24v24H0z\"/><path d=\"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"/></svg>)\r\ncase 'none': return (null)\r\ndefault:\r\n\treturn (null)\r\n}\r\n};\r\n","import React, { Component} from 'react';\r\n\r\nimport { sprite } from '../sprite.jsx'\r\n\r\nclass Cell extends Component {\r\n\thandleClick = (evt) => {\r\n    let cell= evt.target;\r\n    if (cell.hasAttribute('tabIndex') && cell.getAttribute('tabIndex') === '-1') {\r\n      this.props.onModalShow(this.props.id);\r\n    } else {\r\n\t\t  this.props.onCellClick(this.props.id);\r\n    }\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {title, clickable, svg, disabled} = this.props;\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={'board__cell ' + (disabled ? 'board__cell--disabled' : '')}\r\n\t\t\t\ttitle={title}\r\n\t\t\t\ttabIndex={clickable ? '0' : '-1'}\r\n\t\t\t\tonClick = {this.handleClick}>\r\n\t\t\t\t{ sprite(svg, '100%') }\r\n\t\t\t</div>)\r\n\t}\r\n}\r\n\r\nexport default  Cell;\r\n","import React from 'react';\r\nimport { CONTENT } from '../constants'\r\nimport { sprite } from '../sprite'\r\nimport Cell from './Cell';\r\nimport './Board.css';\r\n\r\nconst Board = (props) => {\r\n   const {cells, horse} = props.board;\r\n   const {gameOver} = props.info;\r\n\t\treturn (\r\n\t\t\t<div className='board'>\r\n\t\t\t\t  {cells.map((item, ind) =>\r\n\t\t\t\t  \t <Cell key={'id-' + ind}\r\n              svg={item.content.svg}\r\n              clickable={item.content.clickable}\r\n              title={item.content.title}\r\n              id = {ind}\r\n              horse = {horse}\r\n\t\t\t\t  \t  disabled={item.content === CONTENT.DISABLED}\r\n              onCellClick={gameOver ? () => {} : props.onCellClick}\r\n              onModalShow={gameOver ? () => {} : props.onModalShow} />\r\n\t\t\t\t  )}\r\n          <div className={'board__end ' + (gameOver ? 'board__end--over': '')}>\r\n            <p className='board__wrapper'>\r\n            { sprite('horse', '100%') }\r\n            </p>\r\n         </div>\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n}\r\n\r\nexport default Board;\r\n","import { connect } from 'react-redux';\r\n\r\nimport Board from '../components/Board';\r\nimport { onCellClick, onModalShow } from '../actions';\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        board: state.board,\r\n        modal: state.modal,\r\n        info: state.info\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n       onCellClick:  id => dispatch(onCellClick(id)),\r\n       onModalShow:  id => dispatch(onModalShow(id))\r\n    };\r\n}\r\n\r\n//connect создает функцию создания контейнера. Параметром при вызове этой ф-ции служит презентационный компонент.\r\nconst BoardContainer = connect(mapStateToProps, mapDispatchToProps)(Board);\r\n\r\nexport default BoardContainer;\r\n","import React, {Fragment} from 'react';\r\n\r\nimport './Info.css';\r\n\r\nconst Info = (props) => {\r\n   const {score, life, gameOver} = props.info;\r\n\r\n\t\treturn (\r\n      <Fragment>\r\n       {gameOver ?\r\n        (<div className='info'>\r\n         <div className='info__wrapper info__wrapper--status'>\r\n           <span className='info__span info__span--status'>Игра окончена: ходов нет!</span>\r\n         </div>\r\n        </div>)\r\n       : null\r\n       }\r\n  \t\t\t<div className='info'>\r\n          <div className='info__wrapper'>\r\n    \t\t\t\t <span className='info__span info__span--score'>Счет: {score}</span>\r\n    \t\t\t\t <button className='info__button info__button--start btn btn--small' type='button' title='Перезапустить игру' onClick={props.onStart}>Старт</button>\r\n    \t\t\t\t <span className='info__span info__span--life' title='Жизнь используется для прорыва через заблокированное поле'>Жизни: {life}</span>\r\n           </div>\r\n        </div>\r\n      </Fragment>\r\n\t\t\t)\r\n}\r\n\r\nexport default Info;\r\n","import { connect } from 'react-redux';\n\nimport Info from '../components/Info';\nimport { onCellClick, onStart } from '../actions'; \n\nfunction mapStateToProps(state) {\n    return {\n        info: state.info\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n       onCellClick:  id => dispatch(onCellClick(id)),\n       onStart:  () => dispatch(onStart())\n    };\n}\n\nconst InfoContainer = connect(mapStateToProps, mapDispatchToProps)(Info);\n\nexport default InfoContainer;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {KEY_CODES, MODAL_TYPES} from '../constants'\r\nimport './Modal.css';\r\n\r\nexport default class Modal extends React.Component {\r\n\r\n  componentWillMount() {\r\n    this.root = document.createElement('div');\r\n    document.body.appendChild(this.root);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.modal.isModalOpen ) {\r\n      this.refs.first.focus();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.body.removeChild(this.root);\r\n  }\r\n\r\n  onKeyDown = (evt) => {\r\n    switch (evt.keyCode) {\r\n      case KEY_CODES.TAB: {\r\n        if ((evt.target === this.refs.first) && evt.shiftKey) {\r\n          evt.preventDefault();\r\n          this.refs.last.focus();\r\n        }\r\n        if ((evt.target === this.refs.last) && !evt.shiftKey) {\r\n          evt.preventDefault();\r\n          this.refs.first.focus();\r\n        }\r\n        break;\r\n      }\r\n\r\n      case KEY_CODES.ESC: {\r\n        this.props.onModalCancel();\r\n        break;\r\n      }\r\n\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  onSigleButtonTabKeyDown = (evt) => {\r\n    switch (evt.keyCode) {\r\n      case KEY_CODES.TAB: {\r\n        evt.preventDefault();\r\n        break;\r\n      }\r\n\r\n      case KEY_CODES.ESC: {\r\n        this.props.onModalCancel();\r\n        break;\r\n      }\r\n\r\n      default:\r\n      break;\r\n    }\r\n  }\r\n\r\n  onLeaveButtons = (evt) => {\r\n   if (evt.currentTarget.className === 'modal' && evt.target.className === 'modal' ) {\r\n     this.refs.first.focus();\r\n   }\r\n }\r\n\r\n  render() {\r\n\r\n    const {isModalOpen, modalType} = this.props.modal;\r\n    if (isModalOpen && modalType === MODAL_TYPES.life) {\r\n      return (\r\n      ReactDOM.createPortal(\r\n        <div className=\"modal\" onClick={this.onLeaveButtons}>\r\n          <div className='modal__wrapper'>\r\n             <h2 className='modal__title'>Для хода через закрашенную клетку:</h2>\r\n             <button className=\"modal__button btn\" onClick={this.props.onDisabledClick} onKeyDown={this.onKeyDown} ref='first'>Использовать жизнь</button>\r\n             <button className=\"modal__button btn\" onClick={this.props.onModalCancel} onKeyDown={this.onKeyDown}  ref='last'>Отмена</button>\r\n          </div>\r\n        </div>,\r\n        this.root)\r\n      )\r\n    } else if (isModalOpen && modalType === MODAL_TYPES.about) {\r\n      return (ReactDOM.createPortal(\r\n        <div className=\"modal\" onClick={this.onLeaveButtons}>\r\n          <div className='modal__wrapper modal__wrapper--about'>\r\n             <h2 className='modal__title'>Конь-2018. Правила.</h2>\r\n             <p className='modal__text'>Необходимо перемещаться конем, набирая очки. За \"звезду\": +1 очко, за \"взрыв\" квадрата конем: +1 очко.</p>\r\n             <p className='modal__text'>Если число набранных очков кратно 25 - дается дополнительная жизнь.\r\n             Доп. жизнью можно воспользоваться для хода по закрашенной клетке. Кисточка обозначает клетку, которая закрасится в начале следующего хода.</p>\r\n             <p className='modal__text'>Игра заканчивается когда ходов и жизней больше нет.</p>\r\n             <button className=\"modal__button btn\" onClick={this.props.onModalCancel} onKeyDown={this.onSigleButtonTabKeyDown} ref='first'>Закрыть</button>\r\n          </div>\r\n        </div>,\r\n        this.root)\r\n     )\r\n    }\r\n    else {\r\n      return (null)\r\n    }\r\n  }\r\n}\r\n","import { connect } from 'react-redux';\r\n\r\nimport Modal from '../components/Modal';\r\nimport { onDisabledClick, onModalCancel } from '../actions';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    modal: state.modal\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onDisabledClick: id => dispatch(onDisabledClick(id)),\r\n    onModalCancel: () => dispatch(onModalCancel())\r\n  };\r\n}\r\n\r\nconst ModalContainer = connect(mapStateToProps, mapDispatchToProps)(Modal);\r\n\r\nexport default ModalContainer;\r\n","import React from 'react';\r\n\r\nimport './Records.css';\r\n\r\nconst Records = (props) => {\r\n   const table = props.records;\r\n\t\treturn (\r\n\t\t\t<div className='records'>\r\n         <p className='records__row records__row--header'>\r\n\t\t\t\t  <span className='records__cell records__cell--left'>Игрок</span>\r\n\t\t\t\t  <span className='records__cell records__cell--right' >Счет</span>\r\n         </p>\r\n         <ul className='records__rows'>\r\n           {table.map((item, ind) => (\r\n              <li className='records__row' key={ind}>\r\n               <span className='records__cell records__cell--left'>{item.name}</span>\r\n               <span className='records__cell records__cell--right' >{item.result}</span>\r\n              </li>\r\n            )\r\n         )}\r\n        </ul>\r\n\t\t\t</div>\r\n\t\t\t)\r\n}\r\n\r\nexport default Records;\r\n","import { connect } from 'react-redux';\r\n\r\nimport Records from '../components/Records';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    records: state.records\r\n  };\r\n}\r\n\r\nconst RecordsContainer = connect(mapStateToProps, null)(Records);\r\n\r\nexport default RecordsContainer;\r\n","import React from 'react';\r\n\r\nimport { sprite } from '../sprite.jsx'\r\nimport './Header.css';\r\n\r\nconst Header = (props) => {\r\n\r\n\t\treturn (\r\n\t\t\t<header className='header'>\r\n        <div className='header__wrapper'>\r\n        <h2 className='header__title'>Конь-2018</h2>\r\n\t\t\t\t <button\r\n          className='header__button header__button--undo'\r\n          type='button'\r\n          title='Отмена последнего хода'\r\n          onClick={props.onUndo}\r\n          disabled = {!props.undoState}>\r\n          <span className='visually-hidden'>Отменить ход</span>\r\n          { sprite('undo', '24px') }\r\n        </button>\r\n        <button\r\n          className='header__button header__button--about'\r\n          type='button'\r\n          title='Правила игры'\r\n          onClick={props.onAboutShow}>\r\n          <span className='visually-hidden'>О программе</span>\r\n          { sprite('help', '24px') }\r\n        </button>\r\n         </div>\r\n\t\t\t</header>\r\n\t\t\t)\r\n}\r\n\r\nexport default Header;\r\n","import { connect } from 'react-redux';\r\n\r\nimport Header from '../components/Header';\r\nimport { onUndo, onAboutShow } from '../actions';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    undoState: state.undoState,\r\n    modal: state.modal,\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n   onUndo:  id => dispatch(onUndo(id)),\r\n   onAboutShow:  id => dispatch(onAboutShow(id))\r\n }\r\n};\r\n\r\nconst HeaderContainer = connect(mapStateToProps, mapDispatchToProps)(Header);\r\n\r\nexport default HeaderContainer;\r\n","import React from 'react';\r\n\r\nimport BoardContainer from './containers/BoardContainer';\r\nimport InfoContainer from './containers/InfoContainer';\r\nimport ModalContainer from './containers/ModalContainer';\r\nimport RecordsContainer from './containers/RecordsContainer';\r\nimport HeaderContainer from './containers/HeaderContainer';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n    return (\r\n        <div className='game'>\r\n            <HeaderContainer/>\r\n            <BoardContainer/>\r\n            <InfoContainer/>\r\n            <RecordsContainer/>\r\n            <ModalContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport reducer from './reducers';\r\n\r\nimport {BOARD_SIDE, CONTENT} from './constants';\r\nimport {getInitialState} from './functions.js';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst store = createStore(reducer, getInitialState(BOARD_SIDE, CONTENT));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\ndocument.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}